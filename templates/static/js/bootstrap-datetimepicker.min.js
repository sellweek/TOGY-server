/**
 * version 2.1.5
 * @license
 * =========================================================
 * bootstrap-datetimepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Contributions:
 *  - Andrew Rowls
 *  - Thiago de Arruda
 *  - updated for Bootstrap v3 by Jonathan Peterson @Eonasdan
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================
 */
!function(a){var b=0,c=function(c,d){var e={pickDate:!0,pickTime:!0,startDate:moment({y:1970}),endDate:moment().add(50,"y"),collapse:!0,language:"en",defaultDate:"",disabledDates:[],icons:{}},f={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},g=this,h=function(){var i,j,k,h=!1;if(g.options=a.extend({},e,d),g.options.icons=a.extend({},f,g.options.icons),!g.options.pickTime&&!g.options.pickDate)throw new Error("Must choose at least one picker");if(g.id=b++,moment.lang(g.options.language),g.date=moment(),g.element=a(c),g.unset=!1,g.isInput=g.element.is("input"),g.component=!1,g.element.hasClass("input-group")&&(g.component=0==g.element.find(".datepickerbutton").size()?g.element.find(".input-group-addon"):g.element.find(".datepickerbutton")),g.format=g.options.format,k=moment()._lang._longDateFormat,g.format||(g.format=g.isInput?g.element.data("format"):g.element.find("input").data("format"),g.format||(g.format=g.options.pickDate?k.L:"",g.format+=g.options.pickTime?" "+k.LT:"")),g.use24hours=g.format.toLowerCase().indexOf("a")<1,g.component&&(h=g.component.find("span")),g.options.pickTime&&h&&h.addClass(g.options.icons.time),g.options.pickDate&&h&&(h.removeClass(g.options.icons.time),h.addClass(g.options.icons.date)),g.widget=a(H(g.options.pickDate,g.options.pickTime,g.options.collapse)).appendTo("body"),g.minViewMode=g.options.minViewMode||g.element.data("date-minviewmode")||0,"string"==typeof g.minViewMode)switch(g.minViewMode){case"months":g.minViewMode=1;break;case"years":g.minViewMode=2;break;default:g.minViewMode=0}if(g.viewMode=g.options.viewMode||g.element.data("date-viewmode")||0,"string"==typeof g.viewMode)switch(g.viewMode){case"months":g.viewMode=1;break;case"years":g.viewMode=2;break;default:g.viewMode=0}for(i=0;i<g.options.disabledDates.length;i++)j=g.options.disabledDates[i],j=moment(j),j.isValid()||(j=moment(g.options.startDate).subtract(1,"day")),g.options.disabledDates[i]=j.format("L");g.startViewMode=g.viewMode,g.setStartDate(g.options.startDate||g.element.data("date-startdate")),g.setEndDate(g.options.endDate||g.element.data("date-enddate")),m(),n(),p(),q(),l(),x(),y(),""!==g.options.defaultDate&&g.setValue(g.options.defaultDate)},i=function(){var b="absolute",c=g.component?g.component.offset():g.element.offset(),d=a(window);g.width=g.component?g.component.outerWidth():g.element.outerWidth(),c.top=c.top+g.element.outerHeight(),void 0!==g.options.width&&g.widget.width(g.options.width),"left"===g.options.orientation&&(g.widget.addClass("left-oriented"),c.left=c.left-g.widget.width()+20),C()&&(b="fixed",c.top-=d.scrollTop(),c.left-=d.scrollLeft()),d.width()<c.left+g.widget.outerWidth()?(c.right=d.width()-c.left-g.width,c.left="auto",g.widget.addClass("pull-right")):(c.right="auto",g.widget.removeClass("pull-right")),g.widget.css({position:b,top:c.top,left:c.left,right:c.right})},j=function(a){g.element.trigger({type:"change.dp",date:g.getDate(),oldDate:a})},k=function(a){g.element.trigger({type:"error.dp",date:a})},l=function(a){moment.lang(g.options.language);var b=a;b||(b=g.isInput?g.element.val():g.element.find("input").val(),b&&(g.date=moment(b,g.format)),g.date||(g.date=moment())),g.viewDate=moment(g.date).startOf("month"),o(),r()},m=function(){moment.lang(g.options.language);for(var b=moment().weekday(0).weekday(),c=a("<tr>"),d=moment.weekdaysMin();b<moment().weekday(0).weekday()+7;)c.append('<th class="dow">'+d[b++%7]+"</th>");g.widget.find(".datepicker-days thead").append(c)},n=function(){moment.lang(g.options.language);for(var a="",b=0,c=moment.monthsShort();12>b;)a+='<span class="month">'+c[b++]+"</span>";g.widget.find(".datepicker-months td").append(a)},o=function(){moment.lang(g.options.language);var i,j,l,m,n,o,p,q,b=g.viewDate.year(),c=g.viewDate.month(),d=g.options.startDate.year(),e=g.options.startDate.month(),f=g.options.endDate.year(),h=g.options.endDate.month(),k=[],r=moment.months();for(g.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-days th:eq(1)").text(r[c]+" "+b),i=moment(g.viewDate).subtract("months",1),o=i.daysInMonth(),i.date(o).startOf("week"),(b==d&&e>=c||d>b)&&g.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(b==f&&c>=h||b>f)&&g.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),j=moment(i).add(42,"d");i.isBefore(j);)i.weekday()===moment().startOf("week").weekday()&&(l=a("<tr>"),k.push(l)),m="",i.year()<b||i.year()==b&&i.month()<c?m+=" old":(i.year()>b||i.year()==b&&i.month()>c)&&(m+=" new"),i.isSame(moment({y:g.date.year(),M:g.date.month(),d:g.date.date()}))&&(m+=" active"),(moment(i).add(1,"d")<=g.options.startDate||i>g.options.endDate||F(i))&&(m+=" disabled"),l.append('<td class="day'+m+'">'+i.date()+"</td>"),i.add(1,"d");for(g.widget.find(".datepicker-days tbody").empty().append(k),q=moment().year(),r=g.widget.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active"),q===b&&r.eq(moment().month()).addClass("active"),d>q-1&&g.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),q+1>f&&g.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),n=0;12>n;n++)b==d&&e>n||d>b?a(r[n]).addClass("disabled"):(b==f&&n>h||b>f)&&a(r[n]).addClass("disabled");for(k="",b=10*parseInt(b/10,10),p=g.widget.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td"),g.widget.find(".datepicker-years").find("th").removeClass("disabled"),d>b&&g.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),b+9>f&&g.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),b-=1,n=-1;11>n;n++)k+='<span class="year'+(-1===n||10===n?" old":"")+(q===b?" active":"")+(d>b||b>f?" disabled":"")+'">'+b+"</span>",b+=1;p.html(k)},p=function(){moment.lang(g.options.language);var c,d,e,a=g.widget.find(".timepicker .timepicker-hours table"),b="";if(a.parent().hide(),g.use24hours)for(c=0,d=0;6>d;d+=1){for(b+="<tr>",e=0;4>e;e+=1)b+='<td class="hour">'+G(c.toString())+"</td>",c++;b+="</tr>"}else for(c=1,d=0;3>d;d+=1){for(b+="<tr>",e=0;4>e;e+=1)b+='<td class="hour">'+G(c.toString())+"</td>",c++;b+="</tr>"}a.html(b)},q=function(){var d,e,a=g.widget.find(".timepicker .timepicker-minutes table"),b="",c=0;for(a.parent().hide(),d=0;5>d;d++){for(b+="<tr>",e=0;4>e;e+=1)b+='<td class="minute">'+G(c.toString())+"</td>",c+=3;b+="</tr>"}a.html(b)},r=function(){if(g.date){var a=g.widget.find(".timepicker span[data-time-component]"),b=g.date.hours(),c="AM";g.use24hours||(b>=12&&(c="PM"),0===b?b=12:12!=b&&(b%=12),g.widget.find(".timepicker [data-action=togglePeriod]").text(c)),a.filter("[data-time-component=hours]").text(G(b)),a.filter("[data-time-component=minutes]").text(G(g.date.minutes()))}},s=function(b){b.stopPropagation(),b.preventDefault(),g.unset=!1;var d,e,f,h,c=a(b.target).closest("span, td, th"),i=g.date;if(1===c.length&&!c.is(".disabled"))switch(c[0].nodeName.toLowerCase()){case"th":switch(c[0].className){case"switch":x(1);break;case"prev":case"next":f=I.modes[g.viewMode].navStep,"prev"===c[0].className&&(f=-1*f),g.viewDate.add(f,I.modes[g.viewMode].navFnc),o()}break;case"span":c.is(".month")?(d=c.parent().find("span").index(c),g.viewDate.month(d)):(e=parseInt(c.text(),10)||0,g.viewDate.year(e)),0!==g.viewMode&&(g.date=moment({y:g.viewDate.year(),M:g.viewDate.month(),d:g.viewDate.date(),h:g.date.hours(),m:g.date.minutes()}),j(i)),x(-1),o();break;case"td":c.is(".day")&&(h=parseInt(c.text(),10)||1,d=g.viewDate.month(),e=g.viewDate.year(),c.is(".old")?0===d?(d=11,e-=1):d-=1:c.is(".new")&&(11==d?(d=0,e+=1):d+=1),g.date=moment({y:e,M:d,d:h,h:g.date.hours(),m:g.date.minutes()}),g.viewDate=moment({y:e,M:d,d:Math.min(28,h)}),o(),D(),j(i))}},t={incrementHours:function(){E("add","hours")},incrementMinutes:function(){E("add","minutes")},decrementHours:function(){E("subtract","hours")},decrementMinutes:function(){E("subtract","minutes")},togglePeriod:function(){var a=g.date.hours();a>=12?a-=12:a+=12,g.date.hours(a)},showPicker:function(){g.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),g.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-minutes").show()},selectHour:function(b){g.date.hours(parseInt(a(b.target).text(),10)),t.showPicker.call(g)},selectMinute:function(b){g.date.minutes(parseInt(a(b.target).text(),10)),t.showPicker.call(g)}},u=function(b){var c=a(b.currentTarget).data("action"),d=t[c].apply(g,arguments),e=g.date;return v(b),g.date||(g.date=moment({y:1970})),D(),r(),j(e),d},v=function(a){a.stopPropagation(),a.preventDefault()},w=function(b){var c=a(b.target),d=moment(c.val()),e=g.date;d.isValid()?(l(),g.setValue(g.date),j(e),D()):(g.setValue(c.val()),j(e),g.unset=!0,c.val(""))},x=function(a){a&&(g.viewMode=Math.max(g.minViewMode,Math.min(2,g.viewMode+a))),g.widget.find(".datepicker > div").hide().filter(".datepicker-"+I.modes[g.viewMode].clsName).show()},y=function(){var b,c,d,e,f;g.widget.on("click",".datepicker *",a.proxy(s,this)),g.widget.on("click","[data-action]",a.proxy(u,this)),g.widget.on("mousedown",a.proxy(v,this)),g.options.pickDate&&g.options.pickTime&&g.widget.on("click.togglePicker",".accordion-toggle",function(h){if(h.stopPropagation(),b=a(this),c=b.closest("ul"),d=c.find(".in"),e=c.find(".collapse:not(.in)"),d&&d.length){if(f=d.data("collapse"),f&&f.transitioning)return;d.collapse("hide"),e.collapse("show"),b.find("span").toggleClass(g.options.icons.time+" "+g.options.icons.date),g.element.find(".input-group-addon span").toggleClass(g.options.icons.time+" "+g.options.icons.date)}}),g.isInput?g.element.on({focus:a.proxy(g.show,this),change:a.proxy(w,this),blur:a.proxy(g.hide,this)}):(g.element.on({change:a.proxy(w,this)},"input"),g.component?g.component.on("click",a.proxy(g.show,this)):g.element.on("click",a.proxy(g.show,this)))},z=function(){a(window).on("resize.datetimepicker"+g.id,a.proxy(i,this)),g.isInput||a(document).on("mousedown.datetimepicker"+g.id,a.proxy(g.hide,this))},A=function(){g.widget.off("click",".datepicker *",g.click),g.widget.off("click","[data-action]"),g.widget.off("mousedown",g.stopEvent),g.options.pickDate&&g.options.pickTime&&g.widget.off("click.togglePicker"),g.isInput?g.element.off({focus:g.show,change:g.change}):(g.element.off({change:g.change},"input"),g.component?g.component.off("click",g.show):g.element.off("click",g.show))},B=function(){a(window).off("resize.datetimepicker"+g.id),g.isInput||a(document).off("mousedown.datetimepicker"+g.id)},C=function(){if(g.element){var d,b=g.element.parents(),c=!1;for(d=0;d<b.length;d++)if("fixed"==a(b[d]).css("position")){c=!0;break}return c}return!1},D=function(){moment.lang(g.options.language);var b,a="";g.unset||(a=moment(g.date).format(g.format)),g.isInput?g.element.val(a):(g.component&&(b=g.element.find("input"),b.val(a)),g.element.data("date",a)),g.options.pickTime||g.hide()},E=function(a,b){moment.lang(g.options.language);var c;return"add"==a?(c=moment(g.date),23==c.hours()&&c.add(1,b),c.add(1,b)):c=moment(g.date).subtract(1,b),c.isAfter(g.options.endDate)||c.subtract(1,b).isBefore(g.options.startDate)||F(c)?(k(c.format(g.format)),void 0):("add"==a?g.date.add(1,b):g.date.subtract(1,b),void 0)},F=function(a){moment.lang(g.options.language);var c,b=g.options.disabledDates;for(c in b)if(b[c]==moment(a).format("L"))return!0;return!1},G=function(a){return a=a.toString(),a.length>=2?a:"0"+a},H=function(a,b,c){return a&&b?'<div class="bootstrap-datetimepicker-widget dropdown-menu" style="z-index:9999 !important;"><ul class="list-unstyled"><li'+(c?' class="collapse in"':"")+">"+'<div class="datepicker">'+I.template+"</div>"+"</li>"+'<li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+g.options.icons.time+'"></span></a></li>'+"<li"+(c?' class="collapse"':"")+">"+'<div class="timepicker">'+J.getTemplate()+"</div>"+"</li>"+"</ul>"+"</div>":b?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+J.getTemplate()+"</div>"+"</div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+I.template+"</div>"+"</div>"},I={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},J={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>'};I.template='<div class="datepicker-days"><table class="table-condensed">'+I.headTemplate+"<tbody></tbody></table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+I.headTemplate+I.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+I.headTemplate+I.contTemplate+"</table>"+"</div>",J.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+g.options.icons.up+'"></span></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementMinutes"><span class="'+g.options.icons.up+'"></span></a></td>'+(g.use24hours?"":'<td class="separator"></td>')+"</tr>"+"<tr>"+"<td>"+J.hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+J.minuteTemplate+"</td> "+(g.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+"</tr>"+"<tr>"+'<td><a href="#" class="btn" data-action="decrementHours"><span class="'+g.options.icons.down+'"></span></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementMinutes"><span class="'+g.options.icons.down+'"></span></a></td>'+(g.use24hours?"":'<td class="separator"></td>')+"</tr>"+"</table>"+"</div>"+'<div class="timepicker-hours" data-action="selectHour">'+'<table class="table-condensed"></table>'+"</div>"+'<div class="timepicker-minutes" data-action="selectMinute">'+'<table class="table-condensed"></table>'+"</div>"},g.destroy=function(){A(),B(),g.widget.remove(),g.element.removeData("DateTimePicker"),g.component.removeData("DateTimePicker")},g.show=function(a){g.widget.show(),g.height=g.component?g.component.outerHeight():g.element.outerHeight(),i(),g.element.trigger({type:"show.dp",date:g.date}),z(),a&&v(a)},g.disable=function(){g.element.find("input").prop("disabled",!0),A()},g.enable=function(){g.element.find("input").prop("disabled",!1),y()},g.hide=function(){var b,c,a=g.widget.find(".collapse");for(b=0;b<a.length;b++)if(c=a.eq(b).data("collapse"),c&&c.transitioning)return;g.widget.hide(),g.viewMode=g.startViewMode,x(),g.element.trigger({type:"hide.dp",date:g.date}),B()},g.setValue=function(a){moment.lang(g.options.language),g.unset=a?!1:!0;var b=moment(a);b.isValid()?(g.date=b,D(),g.viewDate=moment({y:g.date.year(),M:g.date.month()}),o(),r()):k(b)},g.getDate=function(){return g.unset?null:g.date},g.setDate=function(a){a?g.setValue(a):g.setValue(null)},g.setEndDate=function(a){g.options.endDate=moment(a),g.options.endDate.isValid()||(g.options.endDate=moment().add(50,"y")),g.viewDate&&l()},g.setStartDate=function(a){g.options.startDate=moment(a),g.options.startDate.isValid()||(g.options.startDate=moment({y:1970})),g.viewDate&&l()},h()};a.fn.datetimepicker=function(b){return this.each(function(){var d=a(this),e=d.data("DateTimePicker");e||d.data("DateTimePicker",new c(this,b))})}}(jQuery);